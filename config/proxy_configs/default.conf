# Proxy Service Configuration
# This file configures routes, upstream servers, caching, and SSL settings

[proxy]
listen_port = 8080
enable_ssl = false
ssl_cert_path = 
ssl_key_path = 
worker_threads = 4
max_connections = 1000
keepalive_timeout = 65
upstream_connect_timeout = 5
upstream_read_timeout = 60
enable_logging = true
max_cache_size = 104857600  # 100MB in bytes

# Route 1: API requests
[route.api]
path_prefix = /api
enable_cache = false
cache_ttl_seconds = 0
balance_method = least_conn  # Options: round_robin, least_conn, weighted
upstreams = localhost:9001:2,localhost:9002:1  # host:port:weight

# Route 2: Static content and default
[route.default]
path_prefix = /
enable_cache = true
cache_ttl_seconds = 300
balance_method = round_robin
upstreams = localhost:9003:1

# Route 3: Metrics
[route.metrics]
path_prefix = /metrics
enable_cache = false
cache_ttl_seconds = 0
balance_method = round_robin
upstreams = localhost:9001:1
